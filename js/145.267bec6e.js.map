{"version":3,"file":"js/145.267bec6e.js","mappings":"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","sources":["webpack://17-s-vue/./src/views/Scenario/Reserve.vue","webpack://17-s-vue/src/views/Scenario/Reserve.vue","webpack://17-s-vue/./src/views/Scenario/Reserve.vue?399e","webpack://17-s-vue/./src/views/Scenario/Reserve.vue?13cf"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('s-tip',{attrs:{\"color\":\"deepskyblue\"}},[_vm._v(\"预约场景\")]),_c('table',{staticClass:\"tb\"},[_c('tr',[_c('th',[_vm._v(\"时间\\\\教室\")]),_vm._l((_vm.rows),function(row,index){return _c('th',{key:index},[_vm._v(_vm._s(row))])})],2),_vm._l((_vm.cols),function(col,index){return _c('tr',{key:index},[_c('td',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(col))]),_vm._l((_vm.rows),function(row,index){return _c('td',{key:index,staticClass:\"reserve-cell\",class:{ busy: _vm.isBusy(row, col) }},[_vm._v(\" \"+_vm._s(_vm.isBusy(row, col) ? '已占用' : '空闲')+\" \"),(!_vm.isBusy(row, col))?_c('a',{staticClass:\"reserve-tip\",on:{\"click\":function($event){return _vm.showDrawer(row, col)}}},[_vm._v(\"预约\")]):_c('a',{staticClass:\"reserve-tip\",on:{\"click\":function($event){return _vm.cancel(row, col)}}},[_vm._v(\"取消预约\")])])})],2)})],2),_c('a-drawer',{attrs:{\"title\":\"新增预约\",\"placement\":\"right\",\"closable\":false,\"visible\":_vm.visible},on:{\"close\":_vm.onClose}},[_c('div',[_vm._v(\"教室: \"+_vm._s(_vm.curRow))]),_c('div',[_vm._v(\"时间: \"+_vm._s(_vm.curCol))]),_c('a-button',{staticStyle:{\"margin\":\"20px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onConfirm}},[_vm._v(\"确定\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <s-tip color=\"deepskyblue\">预约场景</s-tip>\n\n    <table class=\"tb\">\n      <tr>\n        <th>时间\\教室</th>\n        <th v-for=\"(row, index) in rows\" :key=\"index\">{{ row }}</th>\n      </tr>\n\n      <tr v-for=\"(col, index) in cols\" :key=\"index\">\n        <td style=\"font-weight: bold\">{{ col }}</td>\n        <td class=\"reserve-cell\" :class=\"{ busy: isBusy(row, col) }\" v-for=\"(row, index) in rows\" :key=\"index\">\n          {{ isBusy(row, col) ? '已占用' : '空闲' }}\n          <a v-if=\"!isBusy(row, col)\" class=\"reserve-tip\" @click=\"showDrawer(row, col)\">预约</a>\n          <a v-else class=\"reserve-tip\" @click=\"cancel(row, col)\">取消预约</a>\n        </td>\n      </tr>\n    </table>\n\n    <a-drawer title=\"新增预约\" placement=\"right\" :closable=\"false\" :visible=\"visible\" @close=\"onClose\">\n      <div>教室: {{ curRow }}</div>\n      <div>时间: {{ curCol }}</div>\n      <a-button type=\"primary\" @click=\"onConfirm\" style=\"margin: 20px\">确定</a-button>\n    </a-drawer>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      rows: [],\n      cols: [],\n      data: ['1-401,10:00', '1-405,14:00', '1-403,15:00'],\n      curRow: '',\n      curCol: '',\n      visible: false\n    }\n  },\n\n  computed: {\n    isBusy() {\n      return function (row, col) {\n        return this.data.includes([row, col].join())\n      }\n    }\n  },\n\n  mounted() {\n    this.rows = Array.from({ length: 6 }).map((r, i) => (r = '1-40' + (i + 1)))\n    this.cols = ['9', '10', '11', '14', '15', '16'].map((r) => (r = r + ':00'))\n  },\n\n  methods: {\n    showDrawer(row, col) {\n      this.curRow = row\n      this.curCol = col\n      this.visible = true\n    },\n    onClose() {\n      this.visible = false\n    },\n    onConfirm() {\n      this.data.push([this.curRow, this.curCol].join())\n      this.visible = false\n    },\n    async cancel(row, col) {\n      await this.$mc('你确定取消预约吗？', 'Are You OK?')\n      this.data = this.data.filter((r) => r !== [row, col].join())\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.tb {\n  border-collapse: collapse;\n  th,\n  td {\n    width: 100px;\n    height: 100px;\n    text-align: center;\n    padding: 30px 20px;\n    border: 1px solid mediumturquoise;\n  }\n\n  .reserve-cell {\n    &:hover {\n      color: #fff;\n      background-color: mediumaquamarine;\n      border: 0;\n      .reserve-tip {\n        display: block;\n      }\n    }\n  }\n\n  .busy {\n    color: #fff;\n    background-color: mediumpurple;\n  }\n\n  .reserve-tip {\n    display: none;\n    cursor: pointer;\n    margin: 0 auto;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Reserve.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Reserve.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Reserve.vue?vue&type=template&id=356eff6b&scoped=true\"\nimport script from \"./Reserve.vue?vue&type=script&lang=js\"\nexport * from \"./Reserve.vue?vue&type=script&lang=js\"\nimport style0 from \"./Reserve.vue?vue&type=style&index=0&id=356eff6b&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"356eff6b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","_v","staticClass","_l","rows","row","index","key","_s","cols","col","staticStyle","class","busy","isBusy","on","$event","cancel","showDrawer","visible","onClose","curRow","curCol","onConfirm","staticRenderFns","data","computed","includes","join","mounted","Array","from","length","map","r","i","methods","push","$mc","filter","component"],"sourceRoot":""}